\doxysection{app/src/sensor\+\_\+ble.c File Reference}
\hypertarget{sensor__ble_8c}{}\label{sensor__ble_8c}\index{app/src/sensor\_ble.c@{app/src/sensor\_ble.c}}


This is a library to handle the BLE functionality for the sensor.  


{\ttfamily \#include "{}sensor\+\_\+ble.\+h"{}}\newline
{\ttfamily \#include $<$zephyr/kernel.\+h$>$}\newline
{\ttfamily \#include $<$zephyr/logging/log.\+h$>$}\newline
{\ttfamily \#include $<$zephyr/bluetooth/bluetooth.\+h$>$}\newline
{\ttfamily \#include $<$zephyr/bluetooth/conn.\+h$>$}\newline
{\ttfamily \#include $<$zephyr/mgmt/mcumgr/transport/smp\+\_\+bt.\+h$>$}\newline
Include dependency graph for sensor\+\_\+ble.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sensor__ble_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structble__adv__params__t}{ble\+\_\+adv\+\_\+params\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{sensor__ble_8c_a6afcda4882565944311d3ad88ed5724c}\label{sensor__ble_8c_a6afcda4882565944311d3ad88ed5724c} 
{\bfseries LOG\+\_\+\+MODULE\+\_\+\+REGISTER} (SENSOR\+\_\+\+BLE, LOG\+\_\+\+LEVEL\+\_\+\+INF)
\item 
int \mbox{\hyperlink{sensor__ble_8c_a89b692cd77dd87374c564984e5a9be6d}{ble\+\_\+setup}} (\mbox{\hyperlink{structble__config__t}{ble\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}config)
\begin{DoxyCompactList}\small\item\em Setup the BLE device, with advertisement and connection parameters. \end{DoxyCompactList}\item 
\Hypertarget{sensor__ble_8c_a58b0d059d51618daef6d27d91a902e76}\label{sensor__ble_8c_a58b0d059d51618daef6d27d91a902e76} 
int {\bfseries ble\+\_\+end} (void)
\item 
int \mbox{\hyperlink{sensor__ble_8c_a2540ec8bac282325b8a5ffad891c0c34}{is\+\_\+ble\+\_\+advertising}} (void)
\begin{DoxyCompactList}\small\item\em Check if the BLE device is advertising. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sensor__ble_8c_ab69344a559ffc2d3167acaa8c58cdde5}{ble\+\_\+change\+\_\+name}} (\mbox{\hyperlink{structble__config__t}{ble\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}config)
\begin{DoxyCompactList}\small\item\em Change the name of the BLE device. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structadv__interval__t}{adv\+\_\+interval\+\_\+t}} \mbox{\hyperlink{sensor__ble_8c_a7d0cf6954353780a8827820d0ae8c6a0}{get\+\_\+ble\+\_\+adv\+\_\+interval}} (void)
\begin{DoxyCompactList}\small\item\em Get the advertising interval of the BLE device. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct bt\+\_\+conn\+\_\+cb \mbox{\hyperlink{sensor__ble_8c_a8f9e757c7c419efea35ae7848e3be8d9}{connection\+\_\+callbacks}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is a library to handle the BLE functionality for the sensor. 

\begin{DoxyAuthor}{Author}
Tyler Garcia 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2025-\/05-\/05
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2025 
\end{DoxyCopyright}


\doxysubsection{Function Documentation}
\Hypertarget{sensor__ble_8c_ab69344a559ffc2d3167acaa8c58cdde5}\label{sensor__ble_8c_ab69344a559ffc2d3167acaa8c58cdde5} 
\index{sensor\_ble.c@{sensor\_ble.c}!ble\_change\_name@{ble\_change\_name}}
\index{ble\_change\_name@{ble\_change\_name}!sensor\_ble.c@{sensor\_ble.c}}
\doxysubsubsection{\texorpdfstring{ble\_change\_name()}{ble\_change\_name()}}
{\footnotesize\ttfamily int ble\+\_\+change\+\_\+name (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structble__config__t}{ble\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{config }\end{DoxyParamCaption})}



Change the name of the BLE device. 


\begin{DoxyParams}{Parameters}
{\em config} & The configuration of the BLE device. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 on success, negative on failure. 
\end{DoxyReturn}
\Hypertarget{sensor__ble_8c_a89b692cd77dd87374c564984e5a9be6d}\label{sensor__ble_8c_a89b692cd77dd87374c564984e5a9be6d} 
\index{sensor\_ble.c@{sensor\_ble.c}!ble\_setup@{ble\_setup}}
\index{ble\_setup@{ble\_setup}!sensor\_ble.c@{sensor\_ble.c}}
\doxysubsubsection{\texorpdfstring{ble\_setup()}{ble\_setup()}}
{\footnotesize\ttfamily int ble\+\_\+setup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structble__config__t}{ble\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{config }\end{DoxyParamCaption})}



Setup the BLE device, with advertisement and connection parameters. 


\begin{DoxyParams}{Parameters}
{\em config} & The configuration of the BLE device. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 on success, negative on failure. 
\end{DoxyReturn}
\Hypertarget{sensor__ble_8c_a7d0cf6954353780a8827820d0ae8c6a0}\label{sensor__ble_8c_a7d0cf6954353780a8827820d0ae8c6a0} 
\index{sensor\_ble.c@{sensor\_ble.c}!get\_ble\_adv\_interval@{get\_ble\_adv\_interval}}
\index{get\_ble\_adv\_interval@{get\_ble\_adv\_interval}!sensor\_ble.c@{sensor\_ble.c}}
\doxysubsubsection{\texorpdfstring{get\_ble\_adv\_interval()}{get\_ble\_adv\_interval()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structadv__interval__t}{adv\+\_\+interval\+\_\+t}} get\+\_\+ble\+\_\+adv\+\_\+interval (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the advertising interval of the BLE device. 

\begin{DoxyReturn}{Returns}
\doxylink{structadv__interval__t}{adv\+\_\+interval\+\_\+t} The advertising interval of the BLE device. 
\end{DoxyReturn}
\Hypertarget{sensor__ble_8c_a2540ec8bac282325b8a5ffad891c0c34}\label{sensor__ble_8c_a2540ec8bac282325b8a5ffad891c0c34} 
\index{sensor\_ble.c@{sensor\_ble.c}!is\_ble\_advertising@{is\_ble\_advertising}}
\index{is\_ble\_advertising@{is\_ble\_advertising}!sensor\_ble.c@{sensor\_ble.c}}
\doxysubsubsection{\texorpdfstring{is\_ble\_advertising()}{is\_ble\_advertising()}}
{\footnotesize\ttfamily int is\+\_\+ble\+\_\+advertising (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Check if the BLE device is advertising. 

\begin{DoxyReturn}{Returns}
int 1 if advertising, 0 if not. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\Hypertarget{sensor__ble_8c_a8f9e757c7c419efea35ae7848e3be8d9}\label{sensor__ble_8c_a8f9e757c7c419efea35ae7848e3be8d9} 
\index{sensor\_ble.c@{sensor\_ble.c}!connection\_callbacks@{connection\_callbacks}}
\index{connection\_callbacks@{connection\_callbacks}!sensor\_ble.c@{sensor\_ble.c}}
\doxysubsubsection{\texorpdfstring{connection\_callbacks}{connection\_callbacks}}
{\footnotesize\ttfamily struct bt\+\_\+conn\+\_\+cb connection\+\_\+callbacks}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ .connected\ =\ on\_connected,}
\DoxyCodeLine{\ \ \ \ .disconnected\ =\ on\_disconnected,}
\DoxyCodeLine{\ \ \ \ .recycled\ =\ on\_recycled,}
\DoxyCodeLine{\}}

\end{DoxyCode}
