\doxysection{sensor\+\_\+app.\+h}
\hypertarget{sensor__app_8h_source}{}\label{sensor__app_8h_source}\index{app/include/sensor\_app.h@{app/include/sensor\_app.h}}
\mbox{\hyperlink{sensor__app_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#ifndef\ SENSOR\_APP\_H}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#define\ SENSOR\_APP\_H}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sensor__id_8h}{sensor\_id.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#define\ SENSOR\_VOLTAGE\_NAME\_LENGTH\ \ \ \ \ \ 20}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#define\ SENSOR\_TYPE\_NAME\_LENGTH\ \ \ \ \ \ \ \ \ 20}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{comment}{//\ In\ sensor\_app.h}}
\DoxyCodeLine{00023\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{sensor__app_8h_a3ded0fb95123f62995b82d8ccfe33a43}{sensor\_app\_state}}\{}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_a3ded0fb95123f62995b82d8ccfe33a43a48dae62cfd19edab5be767c441ebdb11}{SENSOR\_APP\_STATE\_CONFIGURATION}},\ \ \ \ \textcolor{comment}{//\ Device\ is\ in\ configuration\ mode\ (BLE\ active,\ waiting\ for\ setup)}}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_a3ded0fb95123f62995b82d8ccfe33a43a5a92bbec0977ae77b062d7405131e1e4}{SENSOR\_APP\_STATE\_RUNNING}},\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Device\ is\ actively\ reading\ sensors\ and\ transmitting}}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_a3ded0fb95123f62995b82d8ccfe33a43ab855477213c54014b8c5707885ff3dd3}{SENSOR\_APP\_STATE\_ERROR}},\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Error\ state}}
\DoxyCodeLine{00027\ \};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375a}{sensor\_nvs\_address}}\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa2d268500f7614584b41291ea22792d65}{SENSOR\_NVS\_ADDRESS\_DEVICE\_NAME}},}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aaedf2f4070cffcaa48443cca30fe15a67}{SENSOR\_NVS\_ADDRESS\_APP\_STATE}},}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa6fdc49bc0b7367d523405392185fa469}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_ENABLED}},}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa4de7e0009db882597905188c8accbf42}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_FREQUENCY}},}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa67d0df0fb28ed76fae68842733be1079}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_DEV\_EUI}},}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aac76be02be3ca8689c045c7f30cea8050}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_JOIN\_EUI}},}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa93f3738cd4a440dffaee1f871448391a}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_APP\_KEY}},}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aaffe664ab5a382bbb5d46893a50fde38a}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_DEV\_NONCE}},}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aaf0a49d8a29c05d55efad9bca8d6f903e}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_JOIN\_ATTEMPTS}},}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aab1cc502cc7f978e609e8ca729585897f}{SENSOR\_NVS\_ADDRESS\_LORAWAN\_SEND\_ATTEMPTS}},}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa1ee7cb8b454ad2d8562245cd5a874f08}{SENSOR\_NVS\_ADDRESS\_SENSOR\_1\_ENABLED}},}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa4c78d7851f9fcbacb347777598011878}{SENSOR\_NVS\_ADDRESS\_SENSOR\_1\_POWER}},}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa3be30ba219269e75031573d9171062d7}{SENSOR\_NVS\_ADDRESS\_SENSOR\_1\_TYPE}},}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aae556eaa29d1f84d18b211ff51bdfc7c3}{SENSOR\_NVS\_ADDRESS\_SENSOR\_1\_FREQUENCY}},}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aae6c7e5e8e28301d739118fb88ab5f874}{SENSOR\_NVS\_ADDRESS\_SENSOR\_2\_ENABLED}},}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aaa7135e15b2ff393620d853acb4a970fc}{SENSOR\_NVS\_ADDRESS\_SENSOR\_2\_POWER}},}
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aa78ee1d2b0a0d6147d60b404a617c2246}{SENSOR\_NVS\_ADDRESS\_SENSOR\_2\_TYPE}},}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aadba24505dba6d68dfcd99faefa24e6c8}{SENSOR\_NVS\_ADDRESS\_SENSOR\_2\_FREQUENCY}},}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{sensor__app_8h_af1804e81186cc74c046575e0c164375aaa7465dda49e807164eace28c831347ca}{SENSOR\_NVS\_ADDRESS\_LIMIT}},}
\DoxyCodeLine{00049\ \};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{/*\ Current\ state\ of\ the\ app\ */}}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{sensor__app_8h_a3ded0fb95123f62995b82d8ccfe33a43}{sensor\_app\_state}}\ \mbox{\hyperlink{structsensor__app__config__t_a2d65589f2c98ec7bf7c4defa468b6d8f}{state}};}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{/*\ Tells\ whether\ or\ not\ to\ connect\ network\ during\ configuration\ */}}
\DoxyCodeLine{00055\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structsensor__app__config__t_aa16b29b7015e3f1a4353938b71a09742}{connect\_network\_during\_configuration}};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{comment}{/*\ Sensor\ type\ used\ for\ sensor\ 1\ */}}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{sensor__id_8h_ad7b3bc5128f463a9f210147ad5c043be}{sensor\_types}}\ \mbox{\hyperlink{structsensor__app__config__t_ad2f608e0180a0127edbccea9cb4f8bde}{sensor\_1\_type}};}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{/*\ Sensor\ power\ name\ used\ for\ sensor\ 1\ */}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{char}\ sensor\_1\_type\_name[\mbox{\hyperlink{sensor__app_8h_a1b70e27acec5f3fad115276c378fe481}{SENSOR\_TYPE\_NAME\_LENGTH}}];}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{/*\ Sensor\ type\ used\ for\ sensor\ 2\ */}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{sensor__id_8h_ad7b3bc5128f463a9f210147ad5c043be}{sensor\_types}}\ \mbox{\hyperlink{structsensor__app__config__t_ad31a5fe2d29870ba0d1aa510bffae327}{sensor\_2\_type}};}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{/*\ Sensor\ type\ name\ used\ for\ sensor\ 2\ */}}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{char}\ sensor\_2\_type\_name[\mbox{\hyperlink{sensor__app_8h_a1b70e27acec5f3fad115276c378fe481}{SENSOR\_TYPE\_NAME\_LENGTH}}];}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{/*\ Power\ voltage\ used\ for\ sensor\ 1\ */}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{sensor__id_8h_adef9477a37671049d57edb26e6a37746}{sensor\_voltage}}\ \mbox{\hyperlink{structsensor__app__config__t_a41bee31e64c8ca7bc8d9c351de0a7732}{sensor\_1\_voltage}};}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{/*\ Power\ voltage\ name\ used\ for\ sensor\ 1\ */}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{char}\ sensor\_1\_voltage\_name[\mbox{\hyperlink{sensor__app_8h_a4cdd0af44f5c2b29503979d86bf45fbf}{SENSOR\_VOLTAGE\_NAME\_LENGTH}}];}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{/*\ Power\ voltage\ used\ for\ sensor\ 2\ */}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{sensor__id_8h_adef9477a37671049d57edb26e6a37746}{sensor\_voltage}}\ \mbox{\hyperlink{structsensor__app__config__t_a5c96e2d631c94fbff8ef7532602a0fb2}{sensor\_2\_voltage}};}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{/*\ Power\ voltage\ name\ used\ for\ sensor\ 2\ */}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{char}\ sensor\_2\_voltage\_name[\mbox{\hyperlink{sensor__app_8h_a4cdd0af44f5c2b29503979d86bf45fbf}{SENSOR\_VOLTAGE\_NAME\_LENGTH}}];}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{/*\ Whether\ sensor\ 1\ is\ enabled\ */}}
\DoxyCodeLine{00073\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structsensor__app__config__t_a4b87c63e61d3c430bc04b720f3d0c47d}{is\_sensor\_1\_enabled}};}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{/*\ Whether\ sensor\ 2\ is\ enabled\ */}}
\DoxyCodeLine{00075\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structsensor__app__config__t_a85ee9b1f2e0425c8331ed3c2ef9e7092}{is\_sensor\_2\_enabled}};}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{/*\ Frequency\ of\ sensor\ 1\ */}}
\DoxyCodeLine{00077\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structsensor__app__config__t_a11d6d9c1722c56f527fe20a6d43441fe}{sensor\_1\_frequency}};}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{/*\ Frequency\ of\ sensor\ 2\ */}}
\DoxyCodeLine{00079\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structsensor__app__config__t_a78fd5aea6bdf8303364771280e48131d}{sensor\_2\_frequency}};}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{/*\ Data\ from\ sensor\ 1\ */}}
\DoxyCodeLine{00081\ \ \ \ \ uint8\_t\ *\mbox{\hyperlink{structsensor__app__config__t_aef66e676db081e59e58024f339777bdc}{sensor\_1\_latest\_data}};}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{/*\ Time\ since\ the\ latest\ data\ was\ received\ from\ sensor\ 1\ */}}
\DoxyCodeLine{00083\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structsensor__app__config__t_aadb9be45228df06d019aca1a9119516d}{sensor\_1\_latest\_data\_timestamp}};}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{comment}{/*\ Data\ from\ sensor\ 2\ */}}
\DoxyCodeLine{00085\ \ \ \ \ uint8\_t\ *\mbox{\hyperlink{structsensor__app__config__t_a7f2bb1ef0a6d20e2584ea09fb2108c22}{sensor\_2\_latest\_data}};}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{/*\ Time\ since\ the\ latest\ data\ was\ received\ from\ sensor\ 2\ */}}
\DoxyCodeLine{00087\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structsensor__app__config__t_aa3523c99bc11b7a688db43b9ccad1bcf}{sensor\_2\_latest\_data\_timestamp}};}
\DoxyCodeLine{00088\ \}\ \mbox{\hyperlink{structsensor__app__config__t}{sensor\_app\_config\_t}};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00095\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{sensor__app_8h_abea55631949306c2a0f82ddf35229087}{sensor\_app\_init}}(\mbox{\hyperlink{structsensor__app__config__t}{sensor\_app\_config\_t}}\ *config);}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00102\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{sensor__app_8h_a42c2202edc8ee7e6c735115215f2aae0}{sensor\_app\_configuration\_state}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00109\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{sensor__app_8h_af7b48579dad8956c9ccc318612d1ea02}{sensor\_app\_running\_state}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00116\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{sensor__app_8h_a450c3a51ecd9475363f0122f84cee0c2}{sensor\_app\_error\_state}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00123\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{sensor__app_8h_aa77b4db9e6c6a78c51af3acdc155f9a6}{sensor\_app\_ble\_start}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
